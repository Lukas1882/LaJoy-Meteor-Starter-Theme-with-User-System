{"version":3,"sources":["meteor://ðŸ’»app/client/templates/account/register/register.js"],"names":[],"mappings":";;;;;;;;;AACA,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;AACrB,0BAAsB,EAAE,UAAU,KAAK,EAAE;;AAErC,aAAK,CAAC,cAAc,EAAE,CAAC;;AAEvB,YAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;AACnC,YAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;AACrC,YAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;;AAG3C,cAAM,CAAC,IAAI,CAAC,cAAc,EAAC,KAAK,EAAE,UAAS,KAAK,EAAE,MAAM,EAAC;AACrD,gBAAI,KAAK,EAAC;AACN,uBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,oBAAI,CAAC,OAAO,EAAE,wBAAwB,EAAE,OAAO,CAAC,CAAC;AACjD,uBAAO;aACV,MAAM;;AAEH,oBAAG,CAAC,MAAM,EAAC;AACP,wBAAI,CAAC,OAAO,EAAE,iDAAiD,EAAE,OAAO,CAAC,CAAC;;iBAE7E,MAAM;AACH,4BAAI;AACA,kCAAM,CAAC,IAAI,CAAC,YAAY,EAAC,IAAI,EAAC,KAAK,EAAC,QAAQ,EAAC,UAAS,KAAK,EAAE,MAAM,EAAC;;AAEhE,oCAAI,MAAM,IAAI,IAAI,EAAC;AACf,0CAAM,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;;iCAG7C;6BACJ,CACA,CAAC;yBACL,CAAC,OAAM,CAAC,EAAC;AACN,mCAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACf,mCAAO;yBACV;AACD,4BAAI,CAAC;AACG,iCAAK,EAAE,UAAU;AACjB,gCAAI,EAAE,mEAAmE,GAAE,KAAK,GAAE,4CAA4C;AAC9H,gCAAI,EAAE,SAAS;AACf,8CAAkB,EAAE,SAAS;AAC7B,6CAAiB,EAAE,KAAK;AACxB,0CAAc,EAAE,KAAK;yBACxB;;AAED,kCAAS,SAAS,EAAC;AACf,kCAAM,CAAC,QAAQ,GAAG,GAAG,CAAC;yBAC7B,CAAC,CAAC;qBACN;aACJ;SACJ,CAAC,CAAC;KACN;CACJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,YAAY;AACrC,KAAC,CAAC,UAAU,CAAC,CACR,IAAI,CAAC;AACF,UAAE,EAAE,MAAM;AACV,cAAM,EAAE;AACJ,gBAAI,EAAE;AACF,0BAAU,EAAE,MAAM;AAClB,qBAAK,EAAE,CACH;AACI,wBAAI,EAAK,OAAO;AAChB,0BAAM,EAAG,4BAA4B;iBACxC,CACJ;aACJ;AACD,iBAAK,EAAE;AACH,0BAAU,EAAI,OAAO;AACrB,qBAAK,EAAE,CAEH;AACI,wBAAI,EAAK,OAAO;AAChB,0BAAM,EAAG,6BAA6B;iBACzC,CACJ;aACJ;;AAED,oBAAQ,EAAE;AACN,0BAAU,EAAE,UAAU;AACtB,qBAAK,EAAE,CACH;AACI,wBAAI,EAAK,cAAc;AACvB,0BAAM,EAAG,uDAAuD;iBACnE,CACJ;aACJ;AACD,sBAAU,EAAE;AACR,0BAAU,EAAE,YAAY;AACxB,qBAAK,EAAE,CACH;AACI,wBAAI,EAAK,iBAAiB;AAC1B,0BAAM,EAAG,oDAAoD;iBAChE,CACJ;aACJ;AACD,iBAAK,EAAE;AACH,0BAAU,EAAG,OAAO;AACpB,qBAAK,EAAE,CACH;AACI,wBAAI,EAAK,SAAS;AAClB,0BAAM,EAAG,4CAA4C;iBACxD,CACJ;aACJ;SACJ;KACJ,CAAC;CACT,CAAC,CAAC,sE","file":"/client/templates/account/register/register.js","sourcesContent":["\nTemplate.register.events({\n    \"submit #registerForm\": function (event) {\n        // Prevent default browser form submit\n        event.preventDefault();\n        // Get value from form element\n        var name = event.target.name.value;\n        var email = event.target.email.value;\n        var password = event.target.password.value;\n\n\n        Meteor.call('isEmailExist',email, function(error, result){\n            if (error){\n                console.log(error);\n                swal(\"Sorry\", \"We have system problem\", \"error\");\n                return;\n            } else {\n                // if this name is valid\n                if(!result){\n                    swal(\"Sorry\", \"This email has been used, please login directly\", \"error\");\n                    // è·³è½¬ç™»é™†\n                } else {\n                    try {\n                        Meteor.call('addAccount',name,email,password,function(error, result){\n                            // if created, login to the new account\n                            if (result == true){\n                                Meteor.loginWithPassword(email, password);\n                                // send confirm email\n\n                            }\n                        }\n                        );\n                    } catch(e){\n                        console.log(e);\n                        return;\n                    }\n                    swal({\n                            title: \"Success!\",\n                            text: \"Thanks for your register. We have send one email to your email \\\"\"+ email +\"\\\" please verify your email address first.\",\n                            type: \"success\",\n                            confirmButtonColor: \"#50E1AE\",\n                            confirmButtonText: \"OK!\",\n                            closeOnConfirm: false,\n                        },\n                        // Redirect to home page.\n                        function(isConfirm){\n                            window.location = \"/\";\n                    });\n                }\n            }\n        });\n    }\n});\n\nTemplate.register.onRendered(function () {\n    $('.ui.form')\n        .form({\n            on: 'blur',\n            fields: {\n                name: {\n                    identifier: 'name',\n                    rules: [\n                        {\n                            type   : 'empty',\n                            prompt : 'Please enter your username'\n                        }\n                    ]\n                },\n                email: {\n                    identifier  : 'email',\n                    rules: [\n\n                        {\n                            type   : 'email',\n                            prompt : 'Please enter a valid e-mail'\n                        }\n                    ]\n                },\n\n                password: {\n                    identifier: 'password',\n                    rules: [\n                        {\n                            type   : 'minLength[6]',\n                            prompt : 'Your password must be at least {ruleValue} characters'\n                        }\n                    ]\n                },\n                repassword: {\n                    identifier: 'repassword',\n                    rules: [\n                        {\n                            type   : 'match[password]',\n                            prompt : 'Your confirm passward does not match your password'\n                        }\n                    ]\n                },\n                terms: {\n                    identifier : 'terms',\n                    rules: [\n                        {\n                            type   : 'checked',\n                            prompt : 'You must agree to the terms and conditions'\n                        }\n                    ]\n                }\n            }\n        })\n});"]}